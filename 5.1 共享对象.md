很多时候，我们在redis里可能存储的就是某个数字，而且可能有大量的重复，对于这种情况每次都申请销毁内存其实是一个很大的浪费。

redis服务器在启动的时候，会一次生成很多可能会被用到的数字对象，他们不会被释放，引用计数值为整数的最大值。

那redis都生成多少个类似这样的数字共享对象呢？是通过一个常量来控制`OBJ_SHARED_INTEGERS`，此常量默认为`10000`，也就是`0~9999`。

那只有这1万个数字是有做共享的，还有没有其他的呢？答案是有的。类似成功、失败、空，这样比较常用的，都做成了共享对象。

redis使用了一个结构体来把这些共享对象组织起来，为`sharedObjectsStruct`，定义在`server.h`中，对应的有一个全局变量`shared `来存储。这个全局变量是在服务器启动的时候初始化的，具体的逻辑实现在`createSharedObjects`里,位于`server.c`中。
